{'description': 'Usine à projets automatisée avec GitHub + ChatGPT', 'actions': [{'type': 'github', 'action': 'get_file', 'repo': 'InnovaCSE/Usine_a_projets', 'path': 'instructions.md', 'output': 'INSTRUCTIONS'}, {'type': 'openai', 'action': 'completion', 'model': 'gpt-4', 'input': '{{INSTRUCTIONS}}', 'output': 'GENERATED_FILES', 'instructions': 'Lis le fichier markdown. Pour chaque bloc de fichier à générer, renvoie une liste JSON de la forme :\n[{"name": "nom_du_fichier.ext", "content": "contenu complet", "commit": "message de commit"}]\nIgnore les erreurs de syntaxe et continue si possible.'}, {'type': 'loop', 'input': 'GENERATED_FILES', 'actions': [{'type': 'github', 'action': 'create_or_update_file', 'repo': 'InnovaCSE/Usine_a_projets', 'path': '{{item.name}}', 'content': '{{item.content}}', 'commit_message': '{{item.commit}}'}]}, {'type': 'github', 'action': 'push', 'repo': 'InnovaCSE/Usine_a_projets'}, {'type': 'email', 'to': 'yoann@exemple.com', 'subject': '✅ Mise à jour Usine à projets', 'body': 'Les fichiers générés ont été poussés dans le dépôt avec succès.'}]}